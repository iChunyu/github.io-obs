自动化引用
==========================================


写文档的时候会在必要位置插入脚注进行补充说明，也会引用已经出现的图、表、章节等，即交叉引用。对于科技论文写作，会进一步涉及到参考文献引用；少数情况下，还会使用到外部超链接。被引对象的编号问题无疑是手动引用的繁琐之处，这篇文章向大家展示如何在 LaTeX 中实现自动化引用。




脚注
------------------------------------------


在 LaTeX 中可以轻松使用 ``\footnote{<text>}`` 命令快速插入脚注，也可以用 ``\footnotemark`` 打上标记，在其后相应的位置使用 ``\footnotetext{<text>}`` 给出具体脚注信息。这两种方法在正文中使用时并无二异，但是如果在表格等环境中使用脚注时， ``\footnote{<text>}`` 通常会失效，这时应当使用 ``\footnotemark`` 打上标记，然后在环境外使用 ``\footnotetext{<text>}`` 给出具体脚注内容。


.. note::

    为了详细展示命令的使用方法，这里用尖括号和被尖括号包围的文字表示示例，若无特殊说明，实际使用命令时不带尖括号。


``\footnotemark`` 和 ``\footnotetext{<text>}`` 成对出现，并且能够自定义编号，这通过使用中括号给出的可选参数进行设置，例如下面的例子：


.. code-block:: LaTeX

    这是第一个脚注 \footnotemark[1]，这是第二个 \footnotemark[2]。

    \footnotetext[1]{脚注1的内容}
    \footnotetext[2]{脚注1的内容}


脚注默认的样式是阿拉伯数字角标，而对于中文文档的习惯，通常需要用带圆圈的数字且每页重新计数，这可以在导言区进行如下设置：


.. code-block:: LaTeX

    % 优化脚注设置
    \usepackage[perpage]{footmisc}              % 每页重新计数
    \usepackage{pifont}                         % 设置带圆圈的数字
    \renewcommand{\thefootnote}{\ding{\numexpr171+\value{footnote}}}




超链接
------------------------------------------

超链接的使用相对容易，只需要导入 ``hyperref`` 宏包即可，配合 ``\href{<link>}{<text>}`` 命令使用即可。例如我想产生一个像这样指向 `我的博客 <https://ichunyu.readthedocs.io/zh_CN/latest/>`_ 的超链接，只需要像这样编写文档即可：


.. code-block:: LaTeX

    像这样就可以产生一个指向 \href{https://ichunyu.readthedocs.io/zh_CN/latest/}{我的博客} 的超链接。


导入 ``hyperref`` 宏包的另一个好处就是生成的文档会根据章节自动生成标签链接，方便 PDF 文档的导航。


默认情况下，不同类型的超链接将以不同颜色的方框将链接内容包围，即使这个方框在打印的时候不会出现，依然导致电子文档阅读时不够美观。所以我自己在使用的时候通常会在调用宏包后增加以下设置，将超链接的方框隐藏，使用带颜色的字来表示。


.. code-block:: LaTeX

    \hypersetup{hidelinks}              % 隐藏超链接的方框
    \hypersetup{colorlinks = true}      % 使用颜色字体表示超链接


当然，如果不喜欢默认的颜色，也可以进行设置，这就不多说了。




交叉引用
------------------------------------------




文献引用
------------------------------------------